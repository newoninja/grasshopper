// Shipping costs by product variation
// Auto-generated from productship.csv
const shippingCosts = {
  "B&B Tonic Lotion Primer": {
    "Standard": 8.5
  },
  "B&B Pr\u00eat-\u00e0-powder Post Workout Dry Shampoo Mist": {
    "Standard": 7.5
  },
  "B&B Curl Mousse": {
    "Standard": 8.5
  },
  "B&B Hairdresser's Invisible Oil Long Last Styling Cream": {
    "Standard": 7.5
  },
  "B&B Seaweed Conditioner": {
    "Standard": 8.5
  },
  "B&B Sunday Shampoo": {
    "Liter": 14.5,
    "8.5 OZ": 8.5
  },
  "B&B Thickening Go Big Plumping Treatment": {
    "Standard": 8.5
  },
  "B&B Spray de Mode Flexible Hold Hairspray": {
    "Standard": 9.5
  },
  "B&B Strong Finish Firm Hold Hairspray": {
    "Standard": 9.5
  },
  "B&B Curl 3-in-1 Conditioner": {
    "Standard": 8.5
  },
  "B&B Curl Moisturizing Shampoo": {
    "Standard": 8.5
  },
  "B&B Seaweed Shampoo": {
    "Standard": 8.5
  },
  "B&B Hairdresser's Invisible Oil Conditioner": {
    "Liter": 14.5,
    "6.7 OZ": 8.5
  },
  "B&B All-Style Blow Dry": {
    "Standard": 7.5
  },
  "B&B Thickening Volume Conditioner": {
    "Standard": 8.5,
    "Liter": 14.5
  },
  "B&B Seaweed Air Dry Cream": {
    "Standard": 7.5
  },
  "B&B Hairdresser's Invisible Oil": {
    "Standard": 6.0
  },
  "B&B Thickening Great Body Blow Dry Creme": {
    "Standard": 7.5
  },
  "B&B Hairdresser's Invisible Oil Heat/UV Protective Primer": {
    "Travel": 5.5,
    "8.5 OZ": 8.5,
    "11.8 OZ": 9.5
  },
  "B&B Thickening Dryspun Texture Spray": {
    "Standard": 7.5,
    "Large": 9.5
  },
  "B&B Curl Anti-Humidity Gel-Oil": {
    "Standard": 7.5
  },
  "B&B Grooming Creme": {
    "Standard": 7.5
  },
  "B&B Curl Light Defining Cream": {
    "Standard": 8.5
  },
  "B&B Sumoclay": {
    "Standard": 5.5
  },
  "B&B Prep Primer": {
    "Standard": 8.5
  },
  "B&B Styling Creme": {
    "Standard": 8.5
  },
  "B&B Gentle Shampoo": {
    "Liter": 14.5,
    "8.5 OZ": 8.5
  },
  "B&B Sumotech": {
    "Standard": 5.5
  },
  "B&B Pr\u00eat-\u00e0-powder Tres Invisible Dry Shampoo": {
    "3.1 OZ": 6.5,
    "7.5 OZ": 8.5
  },
  "B&B Repair Blow Dry": {
    "Standard": 7.5
  },
  "B&B Don't Blow It Thick (H)air Styler": {
    "Standard": 7.5
  },
  "B&B Curl Reactivator": {
    "Standard": 8.5
  },
  "B&B Don't Blow It Fine (H)air Styler": {
    "Standard": 7.5
  },
  "B&B Hairdresser's Invisible Oil Shampoo": {
    "Liter": 14.5,
    "8.5 OZ": 8.5
  },
  "B&B Hairdresser's Invisible Oil Mask": {
    "Standard": 9.0
  },
  "B&B Surf Spray": {
    "Standard": 7.5
  },
  "B&B Bond-Building Repair Styling Cream": {
    "Standard": 7.5
  },
  "B&B Super Rich Conditioner": {
    "Liter": 14.5,
    "8.5 OZ": 8.5
  },
  "B&B Brilliantine": {
    "Standard": 5.5
  },
  "B&B Gel": {
    "Standard": 7.5
  },
  "B&B Straight Blow Dry": {
    "Standard": 7.5
  },
  "B&B Does It All Light Hold Hairspray": {
    "Standard": 9.5
  },
  "B&B Pr\u00eat-\u00e0-powder Dry Shampoo": {
    "Standard": 5.5
  },
  "B&B Thickening Spray": {
    "Standard": 8.5
  },
  "B&B Thickening Volume Shampoo": {
    "Standard": 8.5,
    "Liter": 14.5
  },
  "B&B Thickening Full Form Soft Mousse": {
    "Standard": 8.5
  },
  "B&B Curl Defining Cream": {
    "Standard": 8.5
  },
  "B&B Heat Shield Thermal Protection Mist": {
    "Standard": 7.5
  },
  "Olaplex No. 2 Bond Protector": {
    "17.75 OZ": 12.0
  },
  "Olaplex LashBond": {
    "0.15 OZ": 5.0
  },
  "Olaplex No. 9 Bond Protector Nourishing Hair Serum": {
    "3 OZ": 6.0
  },
  "Olaplex No. 4FINE Bond Maintenance\u00ae Shampoo": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 8.5
  },
  "Olaplex Bond Maintenance Conditioner No.5": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 8.5
  },
  "Olaplex Stand Alone Treatment Packettes": {
    "Single Use": 5.0
  },
  "Olaplex Weightless Nourishing Mask": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 9.0
  },
  "Olaplex Broad Spectrum Chelating Treatment": {
    "12.55 OZ": 10.0
  },
  "Olaplex No.10 Bond Shaper\u2122 Curl Defining Gel": {
    "6.8 OZ": 8.5
  },
  "Olaplex No. 0.5 Scalp Longevity Treatment": {
    "1 OZ": 5.0
  },
  "Olaplex Rich Hydration Mask": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 9.0
  },
  "Olaplex No. 5FINE Bond Maintenance\u00ae Conditioner": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 8.5
  },
  "Olaplex Volumizing Blow Dry Mist": {
    "5 OZ": 7.5
  },
  "Olaplex No. 7 Bonding Oil": {
    "1 OZ": 5.0,
    "2 OZ": 5.0
  },
  "Olaplex No. 4P Blonde Enhancer\u2122 Toning Shampoo": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 8.5
  },
  "Olaplex No. 5P Blonde Enhancer\u2122 Toning Conditioner": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 8.5
  },
  "Olaplex Salon Intro Kit - 140 Applications": {
    "Kit": 20.0
  },
  "Olaplex No. 1 Bond Multiplier": {
    "17.75 OZ": 12.0
  },
  "Olaplex No.4C Bond Maintenance\u00ae Clarifying Shampoo": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 8.5
  },
  "Olaplex No.3 Hair Perfector Take Home": {
    "3.3 OZ": 6.0
  },
  "Olaplex No.4D Clean Volume Detox Dry Shampoo": {
    "1.5 OZ": 5.5,
    "6.3 OZ": 8.5
  },
  "Olaplex Pro Scalp Rebalancing Concentrate": {
    "10 Pack": 5.5
  },
  "Olaplex No.5 Leave-In Moisturize & Mend Leave-In Conditioner": {
    "3.3 OZ": 6.0
  },
  "Olaplex 4-in-1 Moisture Mask": {
    "12.55 OZ": 10.0
  },
  "Olaplex Bond Maintenance Shampoo No.4": {
    "33.8 OZ": 14.5,
    "8.5 OZ": 8.5
  },
  "Olaplex Bond Shaper\u2122 Curl Rebuilding Treatment": {
    "Professional Kit": 12.0
  },
  "Olaplex No.6 Bond Smoother": {
    "3.3 OZ": 6.0
  },
  "Olaplex No.0 Intensive Bond Building Hair Treatment": {
    "5.2 OZ": 7.5
  },
  "Ouai Medium Conditioner": {
    "10 OZ": 9.0,
    "32 OZ": 14.5
  },
  "Ouai Leave in Conditioner": {
    "4.7 OZ": 7.5,
    "1.5 OZ": 5.5
  },
  "Ouai Hair Gloss": {
    "6 OZ": 7.5
  },
  "Ouai Hand Wash": {
    "16 OZ": 11.0
  },
  "Ouai Fine Conditioner": {
    "10 OZ": 9.0,
    "32 OZ": 14.5
  },
  "Ouai Anti Dandruff Shampoo": {
    "10 OZ": 9.0
  },
  "Ouai Melrose Place Super Dry Shampoo": {
    "5.6 OZ": 8.5
  },
  "Ouai Hair Oil": {
    "0.45 OZ": 5.0,
    "1.5 OZ": 5.0
  },
  "Ouai St. Barts Travel Kit": {
    "Travel": 7.0
  },
  "Ouai St. Barts Hair and Body Mist": {
    "8 OZ": 8.5,
    "3.3 OZ": 6.0
  },
  "Ouai Detox Shampoo": {
    "32 OZ": 14.5,
    "3 OZ": 5.5
  },
  "Ouai St. Barts Body Cr\u00e8me": {
    "7.5 OZ": 9.0
  },
  "Ouai Thick Hair Treatment Masque": {
    "8 OZ": 9.0
  },
  "Ouai Thickening Spray": {
    "4.7 OZ": 7.5
  },
  "Ouai St. Barts Body Cleanser": {
    "10 OZ": 9.0
  },
  "Ouai Deodorant - Melrose Place": {
    "2.5 OZ": 5.5
  },
  "Ouai Air Dry Foam": {
    "4 OZ": 7.5
  },
  "Ouai Wave Spray": {
    "4.9 OZ": 7.5
  },
  "Ouai Fine/Medium Hair Treatment Masque": {
    "8 OZ": 9.0
  },
  "Ouai Cape Town Super Dry Shampoo": {
    "5.6 OZ": 8.5
  },
  "Ouai Medium Shampoo": {
    "10 OZ": 9.0,
    "32 OZ": 14.5
  },
  "Ouai Thick Shampoo": {
    "10 OZ": 9.0,
    "32 OZ": 14.5
  },
  "Ouai Curl Cr\u00e8me": {
    "6 OZ": 7.5
  },
  "Ouai Fine Shampoo": {
    "10 OZ": 9.0,
    "32 OZ": 14.5
  },
  "Ouai Scalp and Body Scrub": {
    "8.8 OZ": 9.0
  },
  "Ouai Scalp Serum": {
    "2 OZ": 5.0
  },
  "Ouai Hand Lotion": {
    "16 OZ": 11.0
  },
  "Ouai Thick Conditioner": {
    "10 OZ": 9.0,
    "32 OZ": 14.5
  },
  "Ouai Anti Frizz Cr\u00e8me": {
    "6 OZ": 7.5
  },
  "Ouai St. Barts Scalp and Body Scrub": {
    "8.8 OZ": 9.0
  },
  "Ouai Deodorant - St. Bart's": {
    "2.5 OZ": 5.5
  },
  "Living Proof Perfect Hair Day (PhD) Heat Styling Spray": {
    "5.5 OZ": 7.5
  },
  "Living Proof Restore Repair Leave-In": {
    "4 OZ": 7.5
  },
  "Living Proof Restore Conditioner": {
    "8 OZ": 8.5,
    "32 OZ": 14.5
  },
  "Living Proof Restore Shampoo": {
    "8 OZ": 8.5,
    "32 OZ": 14.5
  },
  "Living Proof Full Conditioner": {
    "32 OZ": 14.5,
    "2 OZ": 5.5
  },
  "Living Proof Style Lab Flex Hairspray": {
    "7.5 OZ": 8.5,
    "3 OZ": 6.0
  },
  "Living Proof No Frizz Shampoo": {
    "8 OZ": 8.5,
    "32 OZ": 14.5
  },
  "Living Proof Style Lab Blowout Spray": {
    "5 OZ": 7.5
  },
  "Living Proof Perfect Hair Day (PhD) Advanced Clean Dry Shampoo": {
    "2.4 OZ": 5.5,
    "9.9 OZ": 9.5
  },
  "Living Proof No Frizz Vanishing Oil": {
    "1.7 OZ": 5.0
  },
  "Living Proof Perfect Hair Day (PhD) 5-in-1 Styling Treatment": {
    "4 OZ": 7.5
  },
  "Living Proof Leave-In Conditioning Spray": {
    "8 OZ": 8.5
  },
  "Living Proof Full Volume & Root-Lifting Spray": {
    "5.5 OZ": 7.5
  },
  "Living Proof No Frizz Smooth Styling Cream": {
    "8 OZ": 8.5
  },
  "Living Proof Full Dry Volume & Texture Spray": {
    "9.9 OZ": 9.5,
    "3 OZ": 6.0
  },
  "Living Proof No Frizz Smooth Styling Spray": {
    "5.5 OZ": 7.5
  },
  "Living Proof Perfect Hair Day (PhD) Shampoo": {
    "32 OZ": 14.5,
    "2 OZ": 5.5
  },
  "Living Proof Scalp Care Dry Scalp Treatment": {
    "3.4 OZ": 6.0
  },
  "Living Proof Perfect Hair Day (PhD) Dry Shampoo": {
    "2.4 OZ": 5.5,
    "9.9 OZ": 9.5
  },
  "Living Proof Scalp Care Exfoliator": {
    "3.4 OZ": 6.0
  },
  "Living Proof No Frizz Smooth Styling Serum": {
    "1.7 OZ": 5.0
  },
  "Living Proof Moisture Rescue Mask": {
    "8 OZ": 9.0
  },
  "Living Proof Full Shampoo": {
    "32 OZ": 14.5,
    "2 OZ": 5.5
  },
  "Living Proof No Frizz Instant De-Frizzer": {
    "6.2 OZ": 8.5
  },
  "Living Proof Perfect Hair Day (PhD) Conditioner": {
    "32 OZ": 14.5,
    "2 OZ": 5.5
  },
  "Living Proof Style Lab amp\u00b2 Texture Volumizer": {
    "2 OZ": 5.5
  },
  "Living Proof Full Texturizing Foam": {
    "5 OZ": 7.5
  },
  "Living Proof Triple Bond Complex": {
    "1.5 OZ": 5.0
  },
  "Living Proof Perfect Hair Day (PhD) High-Shine Gloss": {
    "2.5 OZ": 5.5
  },
  "Living Proof No Frizz Conditioner": {
    "8 OZ": 8.5,
    "32 OZ": 14.5
  },
  "Living Proof Full Thickening Blow-Dry Cream": {
    "3.7 OZ": 6.0
  },
  "Living Proof Scalp Care Density Serum": {
    "1.7 OZ": 5.0
  },
  "Living Proof Clarifying Detox Shampoo": {
    "5.4 OZ": 7.5
  },
  "CW XTRA Large Bombshell Volumizer": {
    "1.7 OZ": 5.5,
    "6.7 OZ": 8.5
  },
  "CW Speed Dry Blow-Dry Spray": {
    "5 OZ": 7.5
  },
  "CW Pop & Lock High Gloss Finish": {
    "0.9 OZ": 5.0,
    "1.8 OZ": 5.5
  },
  "CW Style on Steroids Texture Spray": {
    "6 OZ": 8.5,
    "1.5 OZ": 5.5
  },
  "CW Dream Cocktail Coconut-Infused Leave-in Treatment": {
    "6.7 OZ": 8.5
  },
  "CW Dream Filter Pre-Shampoo Mineral Remover Treatment": {
    "1.7 OZ": 5.5,
    "6.7 OZ": 8.5
  },
  "CW Color Security Shampoo": {
    "32 OZ": 14.5,
    "2.5 OZ": 5.5
  },
  "CW Color Security Conditioner Normal-to-Thick Hair": {
    "8.4 OZ": 8.5,
    "32 OZ": 14.5
  },
  "CW Dreaming Advanced Repair + Resurfacing Treatment": {
    "7.5 OZ": 9.0
  },
  "CW Dream Coat for Curly Hair": {
    "16.9 OZ": 11.0,
    "2.4 OZ": 5.5
  },
  "CW Dream Cocktail Kale-Infused Leave-in Treatment": {
    "6.7 OZ": 8.5
  },
  "CW Root Cover Up": {
    "Standard": 5.0
  },
  "CW Hooked 100% Clean Curl Shampoo": {
    "10 OZ": 9.0
  },
  "CW Snag-Free Pre-Shampoo Detangler": {
    "10 OZ": 9.0
  },
  "CW Raise the Root Thicken + Lift Spray": {
    "2.5 OZ": 5.5,
    "5 OZ": 7.5
  },
  "CW Money Masque": {
    "1.7 OZ": 5.5,
    "7.5 OZ": 9.0
  },
  "CW Dream Coat Supernatural Spray": {
    "16.9 OZ": 11.0,
    "1.7 OZ": 5.5
  },
  "CW Money Mist Leave-in Conditioner": {
    "1.7 OZ": 5.5,
    "5 OZ": 7.5
  },
  "CW Extra Strength Dream Coat Anti-Frizz Spray": {
    "16.9 OZ": 11.0,
    "1.7 OZ": 5.5
  },
  "CW Coco-Motion Lubricating Conditioner": {
    "10 OZ": 9.0
  },
  "CW Flo-etry Vital Natural Serum": {
    "10 OZ": 9.0
  },
  "CW Shook Mix + Fix Bundling Spray": {
    "5 OZ": 7.5
  },
  "CW Youth Juice Scalp Treatment": {
    "1.7 OZ": 5.0
  },
  "CW Dream Cocktail Carb-Infused Leave-in Treatment": {
    "6.7 OZ": 8.5
  },
  "CW One-Minute Transformation Styling Cream": {
    "1.7 OZ": 5.5,
    "4 OZ": 7.5
  },
  "CW Cult Favorite Firm + Flexible Hairspray": {
    "10 OZ": 9.5,
    "2 OZ": 5.5
  },
  "CW Extra Mist-ical Shine Spray": {
    "5 OZ": 7.5
  },
  "CW Insta-WOW Advanced Dry Shampoo": {
    "5 OZ": 8.5
  },
  "CW Color Security Conditioner Fine-to-Normal Hair": {
    "32 OZ": 14.5,
    "2.5 OZ": 5.5
  },
  "CW Texas Hold 'Em Big Hold Hairspray": {
    "8.8 OZ": 9.5
  }
};

const DEFAULT_SHIPPING = 7.50;

function getShippingCost(productName, variationName = "Standard") {
  const product = shippingCosts[productName];
  if (product && product[variationName] !== undefined) {
    return product[variationName] * 100; // Convert to cents
  }
  return DEFAULT_SHIPPING * 100; // Default to $7.50 in cents
}

// UPS Ground zone mapping from Charlotte, NC (28277)
const stateToZone = {
  NC: 2, SC: 2,
  VA: 3, GA: 3, TN: 3, WV: 3, DC: 3,
  FL: 4, AL: 4, MS: 4, KY: 4, OH: 4, PA: 4, MD: 4, DE: 4, NJ: 4, IN: 4,
  NY: 5, CT: 5, MA: 5, NH: 5, VT: 5, ME: 5, RI: 5, MI: 5, WI: 5, MN: 5, IL: 5, IA: 5,
  TX: 6, LA: 6, AR: 6, MO: 6, NE: 6, KS: 6, OK: 6, ND: 6, SD: 6,
  CO: 7, WY: 7, MT: 7, NM: 7, AZ: 7, UT: 7, ID: 7,
  CA: 8, OR: 8, WA: 8, NV: 8, HI: 8, AK: 8
};

// UPS Ground rate table: base + per-lb surcharge by zone (in dollars)
const upsRates = {
  2: { base: 8.50, perLb: 0.40 },
  3: { base: 9.50, perLb: 0.55 },
  4: { base: 10.50, perLb: 0.70 },
  5: { base: 11.50, perLb: 0.85 },
  6: { base: 12.50, perLb: 1.00 },
  7: { base: 14.00, perLb: 1.15 },
  8: { base: 15.50, perLb: 1.30 }
};

// Estimate product weight (lbs) from its flat-rate shipping cost
function estimateWeight(shippingCostDollars) {
  if (shippingCostDollars <= 5.5) return 0.5;
  if (shippingCostDollars <= 6.5) return 0.75;
  if (shippingCostDollars <= 7.5) return 1.0;
  if (shippingCostDollars <= 8.5) return 1.5;
  if (shippingCostDollars <= 9.0) return 2.0;
  if (shippingCostDollars <= 9.5) return 2.5;
  if (shippingCostDollars <= 11.0) return 3.0;
  if (shippingCostDollars <= 14.5) return 4.0;
  return 6.0;
}

// Get product weight in lbs
function getProductWeight(productName, variationName = "Standard") {
  const product = shippingCosts[productName];
  const costDollars = (product && product[variationName] !== undefined)
    ? product[variationName]
    : DEFAULT_SHIPPING;
  return estimateWeight(costDollars);
}

// Calculate UPS Ground shipping cost for a total weight to a destination state
function getUpsShippingCost(totalWeightLbs, destinationState) {
  const zone = stateToZone[destinationState] || 5; // default to zone 5
  const rate = upsRates[zone];
  const cost = rate.base + (rate.perLb * totalWeightLbs);
  return Math.round(cost * 100); // return in cents
}

module.exports = { getShippingCost, getProductWeight, getUpsShippingCost };

