<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grasshopper | Salon & Beauty</title>
    <meta name="description" content="The Grasshopper - Professional salon-quality hair care products curated by D'yette Spain, a stylist with 32 years of experience in Charlotte, NC">
    <meta property="og:title" content="The Grasshopper | Salon & Beauty">
    <meta property="og:description" content="Professional salon-quality hair care products curated by D'yette Spain, a stylist with 32 years of experience in Charlotte, NC">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thegrasshopper.shop/">
    <meta property="og:image" content="https://thegrasshopper.shop/site-photo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;1,400&family=Outfit:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">The Grasshopper</a>
            <div class="nav-links">
                <a href="index.html" class="nav-link active">Home</a>
                <a href="shop.html" class="nav-link">Shop</a>
            </div>
            <div class="nav-actions">
                <button class="search-toggle" aria-label="Search">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                </button>
                <button class="cart-toggle" aria-label="Cart">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                    <span class="cart-count">0</span>
                </button>
                <button class="nav-hamburger" aria-label="Menu">
                    <span></span><span></span><span></span>
                </button>
            </div>
        </div>
    </nav>

    <div class="mobile-menu-overlay"></div>
    <div class="mobile-menu">
        <button class="mobile-menu-close">&times;</button>
        <a href="index.html" class="mobile-menu-link">Home</a>
        <a href="shop.html" class="mobile-menu-link">Shop</a>
        <a href="tel:8446215787" class="mobile-menu-link">(844) 621-5787</a>
        <a href="https://www.instagram.com/dyette_grasshopper/" target="_blank" class="mobile-menu-link">Instagram</a>
    </div>

    <div class="search-overlay">
        <div class="search-container">
            <button class="search-close">&times;</button>
            <form class="search-form" onsubmit="handleSearch(event)">
                <input type="text" class="search-input" placeholder="Search products..." id="searchInput">
                <button type="submit" class="search-submit">Search</button>
            </form>
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <div class="cart-overlay"></div>
    <aside class="cart-sidebar">
        <div class="cart-header">
            <h2>Your Cart</h2>
            <button class="cart-close">&times;</button>
        </div>
        <div class="cart-items" id="cartItems"><p class="cart-empty">Your cart is empty</p></div>
        <div class="cart-footer">
            <div class="cart-summary">
                <div class="cart-line"><span>Shipping</span><span id="cartShipping">$0.00</span></div>
                <div class="cart-total"><span>Total</span><span id="cartTotal">$0.00</span></div>
            </div>
            <button class="pickup-check-btn" onclick="openPickupModal()" id="pickupCheckBtn">Check Local Pickup</button>
            <button class="checkout-btn" id="checkoutBtn" disabled>Checkout with Shipping</button>
        </div>
    </aside>

    <div class="pickup-overlay" onclick="closePickupModal()"></div>
    <div class="pickup-modal">
        <div class="pickup-content">
            <button class="pickup-close" onclick="closePickupModal()">&times;</button>
            <h2>Local Pickup</h2>
            <p class="pickup-description">Check if you're in our local pickup area and save on shipping!</p>
            <div class="pickup-form">
                <input type="text" id="pickupZip" class="pickup-zip-input"
                       placeholder="Enter your zip code" maxlength="5" />
                <button class="pickup-submit-btn" onclick="checkPickupEligibility()">Check Availability</button>
            </div>
            <div id="pickupResult" class="pickup-result"></div>
        </div>
    </div>

    <section class="hero">
        <div class="hero-content">
            <p class="hero-tagline">Beauty & Wellness</p>
            <h1 class="hero-title"><span>Elevate Your</span><span class="accent">Natural Beauty</span></h1>
            <p class="hero-description">Curated products for radiant hair, skin, and self-care rituals</p>
            <a href="shop.html" class="hero-cta">Shop Collection</a>
            <div class="mode-toggle-container">
                <button class="mens-mode-btn" onclick="toggleMensMode(true)" aria-label="Switch to men's collection">
                    <svg viewBox="0 0 24 24"><path d="M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11zm0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.24-.97-3.13L20 5.4V10h2V2h-8v2h4.6l-5.97 5.97A5.47 5.47 0 0 0 9.5 9z"/></svg>
                    For Men
                </button>
                <button class="womens-mode-btn" onclick="toggleMensMode(false)">
                    Back to Women's
                </button>
            </div>
        </div>
    </section>

    <section class="featured">
        <div class="section-header">
            <p class="section-tag">Discover</p>
            <h2 class="section-title">Featured Products</h2>
        </div>
        <div class="featured-grid" id="featuredGrid"></div>
        <div class="featured-cta"><a href="shop.html" class="view-all-btn">View All Products →</a></div>
    </section>

    <section class="salon-section">
        <h2 class="salon-title">The Grasshopper</h2>
        <div class="salon-image"><img src="site-photo.png" alt="The Grasshopper Salon"></div>
    </section>

    <section class="trust-badges">
        <div class="trust-badges-container">
            <div class="trust-badge">
                <span class="trust-icon">✦</span>
                <span class="trust-text">32 Years Experience</span>
            </div>
            <div class="trust-badge">
                <span class="trust-icon">✦</span>
                <span class="trust-text">Vidal Sassoon Trained</span>
            </div>
            <div class="trust-badge">
                <span class="trust-icon">✦</span>
                <span class="trust-text">Redken Certified Colorist</span>
            </div>
            <div class="trust-badge">
                <span class="trust-icon">✦</span>
                <span class="trust-text">Salon Professional Products</span>
            </div>
        </div>
    </section>

    <section class="about-section" id="about">
        <div class="about-content">
            <div class="about-image"><img src="about-me.jpg" alt="D'yette Spain"></div>
            <div class="about-text">
                <h2>Meet D'yette</h2>
                <p>D'yette Spain has been a stylist in Charlotte, NC, for thirty-two years. She began her career at Carmen Carmen in 1994 and trained at Vidal Sassoon in London. She worked backstage for Redken for over ten years and achieved Redken's hair color certification. Her passion and drive have taken her from mentee to salon owner and world class stylist who serves as an advisor and confidant for each client.</p>
                <p>She provides expert advice on product selection, hair care, and style and supports each client's unique beauty and wellness. Browse her curated collection of professional hair care products — the same ones she trusts and uses in her salon every day. Questions about products or want to book an appointment? She'd love to hear from you.</p>
                <div class="contact-info">
                    <a href="tel:8446215787" class="contact-link phone">(844) 621-5787</a>
                    <a href="https://www.instagram.com/dyette_grasshopper/" target="_blank" class="contact-link instagram">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        @dyette_grasshopper
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section class="newsletter-section">
        <div class="newsletter-content">
            <h2>Stay in the Loop</h2>
            <p>Get styling tips, new product arrivals, and exclusive offers delivered to your inbox.</p>
            <form class="newsletter-form" name="newsletter" method="POST" data-netlify="true" netlify-honeypot="bot-field" id="newsletterForm">
                <input type="hidden" name="form-name" value="newsletter">
                <p class="hidden" style="display:none"><input name="bot-field"></p>
                <input type="email" name="email" placeholder="Enter your email" required class="newsletter-input">
                <button type="submit" class="newsletter-btn">Subscribe</button>
            </form>
            <p class="newsletter-success" id="newsletterSuccess" style="display:none">Thanks for subscribing! We'll keep you in the loop.</p>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-main">
            <div class="footer-brand">
                <span class="footer-logo">The Grasshopper</span>
                <p class="footer-tagline">Professional hair care curated by a stylist with 32 years of experience</p>
            </div>
            <div class="footer-links">
                <h4>Shop</h4>
                <a href="shop.html">All Products</a>
                <a href="index.html#about">About D'yette</a>
            </div>
            <div class="footer-links">
                <h4>Contact</h4>
                <a href="tel:8446215787">(844) 621-5787</a>
                <a href="https://www.instagram.com/dyette_grasshopper/" target="_blank">Instagram</a>
            </div>
            <div class="footer-links">
                <h4>Info</h4>
                <a href="policies.html#shipping">Shipping Policy</a>
                <a href="policies.html#returns">Returns</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2026 The Grasshopper. All rights reserved.</p>
        </div>
    </footer>

    <script src="app.js"></script>
    <script>
        // Men's mode toggle
        function toggleMensMode(enable) {
            document.body.classList.toggle('mens-mode', enable);
            localStorage.setItem('grasshopper-mens-mode', enable ? 'true' : 'false');
            updateHeroForMode(enable);
            updateFeaturedForMode(enable);
        }

        function updateHeroForMode(isMens) {
            const tagline = document.querySelector('.hero-tagline');
            const title = document.querySelector('.hero-title');
            const description = document.querySelector('.hero-description');
            const shopCta = document.querySelector('.hero-cta');

            if (isMens) {
                tagline.textContent = 'Grooming & Style';
                title.innerHTML = '<span>Elevate Your</span><span class="accent">Style</span>';
                description.textContent = 'Premium grooming and style essentials for the modern man';
                shopCta.textContent = 'Shop Collection';
            } else {
                tagline.textContent = 'Beauty & Wellness';
                title.innerHTML = '<span>Elevate Your</span><span class="accent">Natural Beauty</span>';
                description.textContent = 'Curated products for radiant hair, skin, and self-care rituals';
                shopCta.textContent = 'Shop Collection';
            }
        }

        function updateFeaturedForMode(isMens) {
            const grid = document.getElementById('featuredGrid');
            const sectionTag = document.querySelector('.featured .section-tag');
            const sectionTitle = document.querySelector('.featured .section-title');
            if (!grid) return;

            if (isMens) {
                sectionTag.textContent = 'Discover';
                sectionTitle.textContent = "Men's Collection";
                loadMensFeaturedProducts();
            } else {
                sectionTag.textContent = 'Discover';
                sectionTitle.textContent = 'Featured Products';
                loadFeaturedProducts();
            }
        }

        async function loadMensFeaturedProducts() {
            const grid = document.getElementById('featuredGrid');
            if (!grid) return;
            grid.innerHTML = '<div class="loading-spinner"><div class="spinner"></div></div>';
            try {
                const products = await fetchProducts();
                const mensProducts = products.filter(p => p.category === 'Mens Products');
                const displayProducts = mensProducts.slice(0, 6);
                if (displayProducts.length === 0) {
                    grid.innerHTML = '<p class="no-products">No men\'s products available yet. Check back soon!</p>';
                    return;
                }
                grid.innerHTML = displayProducts.map(p => createProductCard(p)).join('');
            } catch (e) {
                console.error('Error loading men\'s products:', e);
                grid.innerHTML = `<p class="error">Unable to load products. ${e.message || 'Please try again later.'}</p>`;
            }
        }

        async function loadFeaturedProducts() {
            const grid = document.getElementById('featuredGrid');
            if (!grid) return;
            try {
                const products = await fetchProducts();
                const womensProducts = products.filter(p => p.category !== 'Mens Products');
                const featuredNames = [
                    'Olaplex No.3 Hair Perfector Take Home',
                    'B&B Hairdresser\'s Invisible Oil',
                    'Living Proof Perfect Hair Day (PhD) Dry Shampoo',
                    'Ouai Wave Spray',
                    'CW Dream Coat Supernatural Spray',
                    'Olaplex No. 7 Bonding Oil'
                ];
                const featured = featuredNames
                    .map(name => womensProducts.find(p => p.name === name))
                    .filter(Boolean);
                const displayProducts = featured.length >= 4 ? featured : womensProducts.slice(0, 6);
                grid.innerHTML = displayProducts.map(p => createProductCard(p)).join('');
            } catch (e) {
                console.error('Error loading products:', e);
                grid.innerHTML = `<p class="error">Unable to load products. ${e.message || 'Please try again later.'}</p>`;
            }
        }

        document.addEventListener('DOMContentLoaded', async () => {
            // Check saved mode preference
            const savedMode = localStorage.getItem('grasshopper-mens-mode') === 'true';
            if (savedMode) {
                document.body.classList.add('mens-mode');
                updateHeroForMode(true);
                updateFeaturedForMode(true);
            } else {
                await loadFeaturedProducts();
            }

            // Newsletter form - submit via fetch to prevent redirect
            const form = document.getElementById('newsletterForm');
            if (form) {
                form.addEventListener('submit', async (e) => {
                    e.preventDefault();
                    const btn = form.querySelector('.newsletter-btn');
                    btn.textContent = 'Sending...';
                    btn.disabled = true;
                    try {
                        await fetch('/', {
                            method: 'POST',
                            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
                            body: new URLSearchParams(new FormData(form)).toString()
                        });
                        form.style.display = 'none';
                        document.getElementById('newsletterSuccess').style.display = '';
                    } catch (err) {
                        btn.textContent = 'Subscribe';
                        btn.disabled = false;
                        alert('Something went wrong. Please try again.');
                    }
                });
            }
        });
    </script>
</body>
</html>
