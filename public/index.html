<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Grasshopper | Salon & Beauty</title>
    <meta name="description" content="The Grasshopper - Professional salon-quality hair care products curated by D'yette Spain, a stylist with 32 years of experience in Charlotte, NC">
    <meta property="og:title" content="The Grasshopper | Salon & Beauty">
    <meta property="og:description" content="Professional salon-quality hair care products curated by D'yette Spain, a stylist with 32 years of experience in Charlotte, NC">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://thegrasshopper.shop/">
    <meta property="og:image" content="https://thegrasshopper.shop/site-photo.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,500;1,400&family=Outfit:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="nav">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">The Grasshopper</a>
            <div class="nav-links">
                <a href="index.html" class="nav-link active">Home</a>
                <a href="shop.html" class="nav-link">Shop</a>
            </div>
            <div class="nav-actions">
                <a href="hair-analysis.html" class="hai-nav-btn" aria-label="AI Hair Analysis">
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 7v1c0 4.418 4.03 8 9 8h2c4.97 0 9-3.582 9-8V7"/><path d="M9 15v4"/><path d="M15 15v4"/><path d="M5 20h14"/><circle cx="12" cy="4" r="2"/></svg>
                    <span>AI Scan</span>
                </a>
                <button class="search-toggle" aria-label="Search">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                </button>
                <button class="cart-toggle" aria-label="Cart">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M6 2L3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 0 1-8 0"/></svg>
                    <span class="cart-count">0</span>
                </button>
                <button class="nav-hamburger" aria-label="Menu">
                    <span></span><span></span><span></span>
                </button>
            </div>
        </div>
    </nav>

    <div class="mobile-menu-overlay"></div>
    <div class="mobile-menu">
        <button class="mobile-menu-close">&times;</button>
        <a href="index.html" class="mobile-menu-link">Home</a>
        <a href="shop.html" class="mobile-menu-link">Shop</a>
        <a href="hair-analysis.html" class="mobile-menu-link">Hair Analysis</a>
        <a href="tel:8446215787" class="mobile-menu-link">(844) 621-5787</a>
        <a href="https://www.instagram.com/dyette_grasshopper/" target="_blank" class="mobile-menu-link">Instagram</a>
        <div class="mobile-menu-divider"></div>
        <div class="mobile-menu-mode">
            <button class="mobile-menu-mode-btn" id="mobileMenuMensBtn" onclick="toggleMensMode(true); closeMobileMenu();">Shop Men's</button>
            <button class="mobile-menu-mode-btn" id="mobileMenuWomensBtn" onclick="toggleMensMode(false); closeMobileMenu();">Shop Women's</button>
        </div>
    </div>

    <div class="search-overlay">
        <div class="search-container">
            <button class="search-close">&times;</button>
            <form class="search-form" onsubmit="handleSearch(event)">
                <input type="text" class="search-input" placeholder="Search products..." id="searchInput">
                <button type="submit" class="search-submit">Search</button>
            </form>
            <div class="search-results" id="searchResults"></div>
        </div>
    </div>

    <div class="cart-overlay"></div>
    <aside class="cart-sidebar">
        <div class="cart-header">
            <h2>Your Cart</h2>
            <button class="cart-close">&times;</button>
        </div>
        <div class="cart-items" id="cartItems"><p class="cart-empty">Your cart is empty</p></div>
        <div class="cart-footer">
            <div class="cart-summary">
                <div class="cart-line"><span>Shipping</span><span id="cartShipping">$0.00</span></div>
                <div class="cart-total"><span>Total</span><span id="cartTotal">$0.00</span></div>
            </div>
            <button class="pickup-check-btn" onclick="openPickupModal()" id="pickupCheckBtn">Check Local Pickup</button>
            <button class="checkout-btn" id="checkoutBtn" disabled>Checkout with Shipping</button>
        </div>
    </aside>

    <div class="pickup-overlay" onclick="closePickupModal()"></div>
    <div class="pickup-modal">
        <div class="pickup-content">
            <button class="pickup-close" onclick="closePickupModal()">&times;</button>
            <h2>Local Pickup</h2>
            <p class="pickup-description">Check if you're in our local pickup area and save on shipping!</p>
            <div class="pickup-form">
                <input type="text" id="pickupZip" class="pickup-zip-input"
                       placeholder="Enter your zip code" maxlength="5" />
                <button class="pickup-submit-btn" onclick="checkPickupEligibility()">Check Availability</button>
            </div>
            <div id="pickupResult" class="pickup-result"></div>
        </div>
    </div>

    <section class="hero">
        <div class="hero-content">
            <p class="hero-tagline">Professional Hair Care</p>
            <h1 class="hero-title"><span>Elevate Your</span><span class="accent">Hair Care Routine</span></h1>
            <p class="hero-description">Olaplex, Bumble and Bumble, Living Proof, and more — hand-picked by a stylist with 32 years behind the chair, shipped straight to you.</p>
            <a href="shop.html" class="hero-cta">Shop Bestsellers</a>
            <a href="hair-analysis.html" class="hero-secondary-cta">or get your hair analyzed free →</a>
            <div class="mode-toggle-container">
                <button class="mens-mode-btn" onclick="toggleMensMode(true)" aria-label="Switch to men's collection">
                    <svg viewBox="0 0 24 24"><path d="M9.5 11c1.93 0 3.5 1.57 3.5 3.5S11.43 18 9.5 18 6 16.43 6 14.5 7.57 11 9.5 11zm0-2C6.46 9 4 11.46 4 14.5S6.46 20 9.5 20s5.5-2.46 5.5-5.5c0-1.16-.36-2.24-.97-3.13L20 5.4V10h2V2h-8v2h4.6l-5.97 5.97A5.47 5.47 0 0 0 9.5 9z"/></svg>
                    For Men
                </button>
                <button class="womens-mode-btn" onclick="toggleMensMode(false)">
                    Back to Women's
                </button>
            </div>
        </div>
    </section>

    <section class="brand-bar">
        <div class="brand-bar-container">
            <span class="brand-bar-item">Olaplex</span>
            <span class="brand-bar-sep">&middot;</span>
            <span class="brand-bar-item">Bumble and Bumble</span>
            <span class="brand-bar-sep">&middot;</span>
            <span class="brand-bar-item">Living Proof</span>
            <span class="brand-bar-sep">&middot;</span>
            <span class="brand-bar-item">OUAI</span>
            <span class="brand-bar-sep">&middot;</span>
            <span class="brand-bar-item">Color Wow</span>
        </div>
    </section>

    <section class="featured">
        <div class="section-header">
            <h2 class="section-title">Bestsellers</h2>
            <p class="section-subtitle">The products our clients keep coming back for.</p>
        </div>
        <div class="featured-grid" id="featuredGrid"></div>
        <div class="featured-cta"><a href="shop.html" class="view-all-btn-full">View All Products →</a></div>
    </section>

    <section class="ha-promo-section">
        <div class="ha-promo-content">
            <h2 class="ha-promo-title">Not Sure What Your Hair Needs?</h2>
            <p class="ha-promo-desc">Upload a photo. Get personalized product picks in 30 seconds.</p>
            <a href="hair-analysis.html" class="ha-promo-cta">Try It Free →</a>
        </div>
    </section>

    <section class="why-buy">
        <div class="why-buy-grid">
            <div class="why-buy-item">
                <div class="why-buy-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M12 2L2 7l10 5 10-5-10-5z"/><path d="M2 17l10 5 10-5"/><path d="M2 12l10 5 10-5"/></svg>
                </div>
                <h3>Stylist-Picked</h3>
                <p>Every product hand-selected by D'yette, a stylist with 32 years behind the chair. Trained at Vidal Sassoon London. Redken certified colorist.</p>
            </div>
            <div class="why-buy-item">
                <div class="why-buy-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83 0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
                </div>
                <h3>Same Products, Better Price</h3>
                <p>Salon-grade brands without the salon markup. Ships in 1-2 business days.</p>
            </div>
            <div class="why-buy-item">
                <div class="why-buy-icon">
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg>
                </div>
                <h3>Not Sure? We'll Help</h3>
                <p>Call D'yette directly at <a href="tel:8446215787">(844) 621-5787</a> or try our <a href="hair-analysis.html">free AI hair analysis</a>.</p>
            </div>
        </div>
    </section>

    <section class="salon-section">
        <div class="salon-compact">
            <img src="site-photo.png" alt="The Grasshopper Salon in Charlotte, NC" loading="lazy">
            <div class="salon-overlay">
                <h2>Visit Us in Charlotte, NC</h2>
                <a href="tel:8446215787" class="salon-phone">(844) 621-5787</a>
            </div>
        </div>
    </section>

    <section class="about-section" id="about">
        <div class="about-content">
            <div class="about-image"><img src="about-me.jpg" alt="D'yette Spain"></div>
            <div class="about-text">
                <h2>Meet D'yette</h2>
                <p>D'yette Spain has been behind the chair for 32 years. Trained at Vidal Sassoon London, certified Redken colorist, and salon owner in Charlotte, NC. Every product in this shop is one she uses on her own clients.</p>
                <div class="about-actions">
                    <a href="about.html" class="about-read-more">Read Her Full Story →</a>
                </div>
                <p class="about-phone"><a href="tel:8446215787">(844) 621-5787</a></p>
                <div class="contact-info">
                    <a href="https://www.instagram.com/dyette_grasshopper/" target="_blank" class="contact-link instagram">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        @dyette_grasshopper
                    </a>
                </div>
            </div>
        </div>
    </section>

    <section class="newsletter-section">
        <div class="newsletter-content">
            <h2>20% Off Everything — Site-Wide Sale</h2>
            <p>Use code <strong>GRASSHOPPER20</strong> at checkout for 20% off your entire order.</p>
            <a href="shop.html" class="newsletter-btn" style="display:inline-block; text-decoration:none;">Shop Now</a>
        </div>
    </section>

    <footer class="footer">
        <div class="footer-trust-bar">
            <div class="footer-trust-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>
                <span>Secure Checkout</span>
            </div>
            <div class="footer-trust-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14"/><path d="M12 5l7 7-7 7"/></svg>
                <span>Ships 1-2 Days</span>
            </div>
            <div class="footer-trust-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/></svg>
                <span>Local Pickup</span>
            </div>
            <div class="footer-trust-item">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" y1="15" x2="12" y2="3"/></svg>
                <span>30-Day Returns</span>
            </div>
        </div>
        <div class="footer-main">
            <div class="footer-brand">
                <span class="footer-logo">The Grasshopper</span>
                <p class="footer-tagline">Professional hair care curated by a stylist with 32 years of experience</p>
            </div>
            <div class="footer-links">
                <h4>Shop</h4>
                <a href="shop.html">All Products</a>
                <a href="about.html">About D'yette</a>
                <a href="hair-analysis.html">Hair Analysis</a>
            </div>
            <div class="footer-links">
                <h4>Contact</h4>
                <a href="tel:8446215787">(844) 621-5787</a>
                <a href="https://www.instagram.com/dyette_grasshopper/" target="_blank">Instagram</a>
            </div>
            <div class="footer-links">
                <h4>Info</h4>
                <a href="policies.html#shipping">Shipping Policy</a>
                <a href="policies.html#returns">Returns</a>
            </div>
        </div>
        <div class="footer-bottom">
            <p>1515 Burtonwood Cir, Charlotte, NC</p>
            <p>&copy; 2026 The Grasshopper. All rights reserved.</p>
        </div>
    </footer>

    <script src="app.js?v=4"></script>
    <script>
        // Men's mode toggle
        function toggleMensMode(enable) {
            document.body.classList.toggle('mens-mode', enable);
            localStorage.setItem('grasshopper-mens-mode', enable ? 'true' : 'false');
            updateHeroForMode(enable);
            updateFeaturedForMode(enable);
        }

        function updateHeroForMode(isMens) {
            const tagline = document.querySelector('.hero-tagline');
            const title = document.querySelector('.hero-title');
            const description = document.querySelector('.hero-description');
            const shopCta = document.querySelector('.hero-cta');
            const secondaryCta = document.querySelector('.hero-secondary-cta');

            if (isMens) {
                if (tagline) tagline.textContent = 'Grooming & Style';
                title.innerHTML = '<span>Elevate Your</span><span class="accent">Grooming Routine</span>';
                description.textContent = 'Premium grooming products your barber uses — hand-picked by a pro with 32 years behind the chair, shipped straight to you.';
                shopCta.textContent = 'Shop Men\'s';
                if (secondaryCta) secondaryCta.style.display = 'none';
            } else {
                if (tagline) tagline.textContent = 'Professional Hair Care';
                title.innerHTML = '<span>Elevate Your</span><span class="accent">Hair Care Routine</span>';
                description.textContent = 'Olaplex, Bumble and Bumble, Living Proof, and more — hand-picked by a stylist with 32 years behind the chair, shipped straight to you.';
                shopCta.textContent = 'Shop Bestsellers';
                if (secondaryCta) secondaryCta.style.display = '';
            }
        }

        function updateFeaturedForMode(isMens) {
            const grid = document.getElementById('featuredGrid');
            const sectionTitle = document.querySelector('.featured .section-title');
            if (!grid) return;

            if (isMens) {
                sectionTitle.textContent = "Men's Bestsellers";
                loadMensFeaturedProducts();
            } else {
                sectionTitle.textContent = 'Bestsellers';
                loadFeaturedProducts();
            }
        }

        async function loadMensFeaturedProducts() {
            const grid = document.getElementById('featuredGrid');
            if (!grid) return;
            grid.innerHTML = '<div class="loading-spinner"><div class="spinner"></div></div>';
            try {
                const products = await fetchProducts();
                const mensProducts = products.filter(p => p.category === 'Mens Products');
                const displayProducts = mensProducts.slice(0, 6);
                if (displayProducts.length === 0) {
                    grid.innerHTML = '<p class="no-products">No men\'s products available yet. Check back soon!</p>';
                    return;
                }
                grid.innerHTML = displayProducts.map(p => createProductCard(p)).join('');
            } catch (e) {
                console.error('Error loading men\'s products:', e);
                grid.innerHTML = `<p class="error">Unable to load products. ${e.message || 'Please try again later.'}</p>`;
            }
        }

        async function loadFeaturedProducts() {
            const grid = document.getElementById('featuredGrid');
            if (!grid) return;
            try {
                const products = await fetchProducts();
                const womensProducts = products.filter(p => p.category !== 'Mens Products');
                const featuredNames = [
                    'Olaplex No.3 Hair Perfector Take Home',
                    'B&B Hairdresser\'s Invisible Oil',
                    'Living Proof Perfect Hair Day (PhD) Dry Shampoo',
                    'Ouai Wave Spray',
                    'CW Dream Coat Supernatural Spray',
                    'Olaplex No. 7 Bonding Oil'
                ];
                const featured = featuredNames
                    .map(name => womensProducts.find(p => p.name === name))
                    .filter(Boolean);
                const displayProducts = featured.length >= 4 ? featured : womensProducts.slice(0, 6);
                grid.innerHTML = displayProducts.map(p => createProductCard(p)).join('');
            } catch (e) {
                console.error('Error loading products:', e);
                grid.innerHTML = `<p class="error">Unable to load products. ${e.message || 'Please try again later.'}</p>`;
            }
        }

        document.addEventListener('DOMContentLoaded', async () => {
            // Check saved mode preference
            const savedMode = localStorage.getItem('grasshopper-mens-mode') === 'true';
            if (savedMode) {
                document.body.classList.add('mens-mode');
                updateHeroForMode(true);
                updateFeaturedForMode(true);
            } else {
                await loadFeaturedProducts();
            }

        });
    </script>
</body>
</html>
